\chapter{Appendix}

\lstset{
	language=Java,
	basicstyle=\small,
	stringstyle=\ttfamily
}

\begin{lstlisting}[frame=single, title= Java Code]
public class ClassA
{	
    int numA;
	
    public ClassA(int a) { numA = a; }
	
    public int getNumA() { return numA; }
    
    public void setNumA(int n) { numA = n; }
}

public class ClassB extends ClassA
{
    int numB;
	
    public ClassB(int a, int b) { super(a); numB = a + b; }
	
    public int getNumB() { return numB; }
    
    public void setNumB(int n) { numB = n; }
}

public class MainClass
{
    public static void main(String[] args)
    {
        ClassB b = new ClassB(5, 10);
        int a = b.getNumA();
    }
}
\end{lstlisting}

\newpage

\lstset{
	language=C,
	basicstyle=\tiny,
	stringstyle=\ttfamily
}

\begin{lstlisting}[frame=single, title= LLVM IR]

%ClassA = type { i32 }
%"java/lang/Object" = type opaque
%ClassB = type { %ClassA, i32 }
%MainClass = type {}
%"java/lang/String" = type opaque

define void @"ClassA::<init>(I)"(%ClassA* %this_ptr, i32 %r1) {
label_0:
  %this = alloca %ClassA*
  store %ClassA* %this_ptr, %ClassA** %this
  %v1 = alloca i32
  store i32 %r1, i32* %v1
  %0 = load %ClassA** %this
  %1 = bitcast %ClassA* %0 to %"java/lang/Object"*
  call void @"java/lang/Object::<init>()"(%"java/lang/Object"* %1)
  %2 = load i32* %v1
  %3 = load %ClassA** %this
  %4 = getelementptr inbounds %ClassA* %3, i32 0, i32 0
  store i32 %2, i32* %4
  ret void
}

define i32 @"ClassA::getNumA()"(%ClassA* %this_ptr) {
label_0:
  %this = alloca %ClassA*
  store %ClassA* %this_ptr, %ClassA** %this
  %0 = load %ClassA** %this
  %1 = getelementptr inbounds %ClassA* %0, i32 0, i32 0
  %2 = load i32* %1
  %3 = alloca i32
  store i32 %2, i32* %3
  %4 = load i32* %3
  ret i32 %4
}

define void @"ClassA::setNumA(I)"(%ClassA* %this_ptr, i32 %r1) {
label_0:
  %this = alloca %ClassA*
  store %ClassA* %this_ptr, %ClassA** %this
  %v1 = alloca i32
  store i32 %r1, i32* %v1
  %0 = load i32* %v1
  %1 = load %ClassA** %this
  %2 = getelementptr inbounds %ClassA* %1, i32 0, i32 0
  store i32 %0, i32* %2
  ret void
}

define void @"ClassB::<init>(I|I)"(%ClassB* %this_ptr, i32 %r2, i32 %r3) {
label_0:
  %this = alloca %ClassB*
  store %ClassB* %this_ptr, %ClassB** %this
  %v2 = alloca i32
  store i32 %r2, i32* %v2
  %v3 = alloca i32
  store i32 %r3, i32* %v3
  %0 = load %ClassB** %this
  %1 = bitcast %ClassB* %0 to %ClassA*
  %2 = load i32* %v2
  call void @"ClassA::<init>(I)"(%ClassA* %1, i32 %2)
  %3 = load i32* %v2
  %4 = load i32* %v3
  %5 = add i32 %3, %4
  %6 = alloca i32
  store i32 %5, i32* %6
  %7 = load i32* %6
  %8 = load %ClassB** %this
  %9 = getelementptr inbounds %ClassB* %8, i32 0, i32 1
  store i32 %7, i32* %9
  ret void
}

declare i32 @"ClassB::getNumA()"(%ClassB*)

define i32 @"ClassB::getNumB()"(%ClassB* %this_ptr) {
label_0:
  %this = alloca %ClassB*
  store %ClassB* %this_ptr, %ClassB** %this
  %0 = load %ClassB** %this
  %1 = getelementptr inbounds %ClassB* %0, i32 0, i32 1
  %2 = load i32* %1
  %3 = alloca i32
  store i32 %2, i32* %3
  %4 = load i32* %3
  ret i32 %4
}

define void @"ClassB::setNumB(I)"(%ClassB* %this_ptr, i32 %r1) {
label_0:
  %this = alloca %ClassB*
  store %ClassB* %this_ptr, %ClassB** %this
  %v1 = alloca i32
  store i32 %r1, i32* %v1
  %0 = load i32* %v1
  %1 = load %ClassB** %this
  %2 = getelementptr inbounds %ClassB* %1, i32 0, i32 1
  store i32 %0, i32* %2
  ret void
}

define void @"MainClass::<init>()"(%MainClass* %this_ptr) {
label_0:
  %this = alloca %MainClass*
  store %MainClass* %this_ptr, %MainClass** %this
  %0 = load %MainClass** %this
  %1 = bitcast %MainClass* %0 to %"java/lang/Object"*
  call void @"java/lang/Object::<init>()"(%"java/lang/Object"* %1)
  ret void
}

define void @"MainClass::main([Ljava/lang/String;)"(%"java/lang/String"* %r4) {
label_0:
  %v4 = alloca %"java/lang/String"*
  store %"java/lang/String"* %r4, %"java/lang/String"** %v4
  %0 = alloca %ClassB
  %1 = alloca i32
  store i32 5, i32* %1
  %2 = alloca i32
  store i32 10, i32* %2
  %3 = load i32* %1
  %4 = load i32* %2
  call void @"ClassB::<init>(I|I)"(%ClassB* %0, i32 %3, i32 %4)
  %5 = call i32 @"ClassB::getNumA()"(%ClassB* %0)
  %6 = alloca i32
  store i32 %5, i32* %6
  %7 = load i32* %6
  %8 = alloca i32
  store i32 %7, i32* %8
  ret void
}

declare void @"java/lang/Object::<init>()"(%"java/lang/Object"*)
\end{lstlisting}
